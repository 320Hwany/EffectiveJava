# 아이템 76 - 가능한 한 실패 원자적으로 만들라

호출된 메소드가 실패하더라도 해당 객체는 메소드 호출 전 상태를 유지해야 합니다.    
이러한 특성을 실패 원자적이라고 합니다.    

메소드를 실패 원자적으로 만드는 방법은 다양합니다.   

1. 불변 객체로 설계하는 방법

불변 객체는 태생적으로 실패 원자적입니다. 메소드가 실패하면 새로운 객체가 만들어지지는 않을 수 있으나    
기존 객체가 불안정한 상태로 빠지는 일은 결코 없습니다.     
불변 객체의 상태는 생성 시점에 고정되어 절대 변하지 않기 때문입니다.       

2. 가변 객체의 메소드를 작업 수행에 앞서 매개변수의 유효성을 검사하는 방법

객체의 내부 상태를 변경하기 전에 잠재적 예외의 가능성 대부분을 걸러낼 수 있는 방법입니다.    
이와 비슷한 취지로 실패할 가능성이 있는 모든 코드를 객체의 상태를 바꾸는 코드보다 앞에 배치하는 방법도 있습니다.     

3. 객체의 임시 복사본에서 작업을 수행한 다음 작업이 성공적으로 완료되면 원래 객체와 교체하는 방법

데이터를 임시 자료구조에 저장해 작업하는 게 더 빠를 때 적용하기 좋은 방식입니다.    
이는 성능을 높이고자 취한 결정이지만 혹시나 실패하더라도 입력 리스트는 변하지 않는 효과가 있습니다.    

4. 작업 도중 발생하는 실패를 가로채는 복구 코드를 작성하여 작업 전 상태로 되돌리는 방법

주로 디스크 기반의 durability를 보장해야 하는 자료구조에 쓰입니다.     

