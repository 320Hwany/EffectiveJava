# 아이템 20 - 추상 클래스보다는 인터페이스를 우선하라

자바가 제공하는 다중 구현 메커니즘은 인터페이스와 추상 클래스 2가지가 있습니다.   
둘의 가장 큰 차이는 추상 클래스가 정의한 타입을 구현하는 클래스는 반드시 추상 클래스의   
하위 클래스가 되어야 한다는 점 입니다.   

## 인터페이스 VS 추상 클래스

인터페이스를 우선하여 생각하는 이유는 다음과 같습니다.  

1. 기존 클래스에도 손쉽게 새로운 인터페이스를 구현해 넣을 수 있다

인터페이스가 요구하는 메소드를 추가하고 클래스 선언에 implements 구문만 추가하면 됩니다.   
반면에 새로운 추상 클래스를 추가하는건 일반적으로 어렵습니다. 여러 클래스가 있다면 그 클래스들이   
모두 계층 구조 상으로 공통 조상을 갖어야 하기 때문입니다.    

2. 인터페이스는 믹스인(mixin) 정의에 안성맞춤이다

인터페이스는 대상 타입의 주된 기능에 선택적 기능을 혼합(mixed in)하기 쉽습니다.  
반면에 추상 클래스는 기존 클래스에 덧씌울 수 없고 단일 상속만 가능하기 때문에 혼합하기 어렵습니다.      
추상 클래스가 같은 속성으로 묶는 것에 비해 인터페이스는 기능을 추가하여 확장하는데 용이합니다.     

3. 인터페이스로는 계층구조가 없는 타입 프레임워크를 만들 수 있습니다.   

타입을 계층적으로 정의하면 수많은 개념을 구조적으로 잘 표현할 수 있지만   
인터페이스를 사용하면 계층구조로 표현하기 어려운 개념도 표현할 수 있습니다.   

## 템플릿 메소드 패턴(추상 골격 구현)

이때 인터페이스와 추상 클래스의 장점을 한번에 취하는 방법이 있습니다.      
인터페이스로는 타입을 정의하고 필요하면 default 메소드도 제공하며 골격 구현 클래스는 나머지 메소드들을   
구현하는 방식입니다.    
익명클래스를 사용하여 골격 구현 클래스는 추상 클래스처럼 구현을 도와주는 동시에 추상 클래스로 타입을 정의할 때   
따라오는 심각한 제약에서는 자유롭게 해주는 장점이 있습니다.    
이때 인터페이스에 정의한 디폴트 메소드든 별도의 추상 클래스든 골격 구현은 반드시 그 동작 방식을 잘 정리해 문서로    
남겨야 합니다.  


## 정리

자바 버전이 올라가면서 인터페이스에 default, private, static 메소드를 정의할 수 있게 되었습니다.   
따라서 보통의 경우에 확장성면에서 추상 클래스보다 인터페이스를 사용하는 것이 더 좋은 방법입니다.     
이때 복잡한 인터페이스라면 구현하는 수고를 덜어주는 골격 구현을 고려해볼 수 있습니다.    

[아이템 20 - 예제 코드](https://github.com/320Hwany/EffectiveJava/tree/main/src/main/java/effective/chapter4/item20)           
[아이템 20 - 학습 테스트](https://github.com/320Hwany/EffectiveJava/tree/main/src/test/java/effective/chapter4/item20)   